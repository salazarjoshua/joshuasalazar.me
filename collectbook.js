const photocards =
  [
    // THE STORY BEGINS
    {
      "group": "TWICE",
      "album": "The Story Begins",
      "member": "Nayeon",
      "img": "/assets/photocards/The Story Begins/tsb-random-01-nayeon.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "The Story Begins",
      "member": "Tzuyu",
      "img": "/assets/photocards/The Story Begins/tsb-random-09-tzuyu.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "The Story Begins",
      "member": "Unit",
      "img": "/assets/photocards/The Story Begins/tsb-unit-00-twice.jpg",
      "category": "have"
    },
    //PAGE TWO
    {
      "group": "TWICE",
      "album": "Page Two",
      "member": "Dahyun",
      "img": "/assets/photocards/Page Two/pt-lenti-07-dahyun.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Page Two",
      "member": "Jihyo",
      "img": "/assets/photocards/Page Two/pt-random-05-jihyo.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Page Two",
      "member": "Dahyun",
      "img": "/assets/photocards/Page Two/pt-random-07-dahyun.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Page Two",
      "member": "Unit",
      "img": "/assets/photocards/Page Two/pt-unit-00-twice.jpg",
      "category": "have"
    },
    // FANCY YOU
    {
      "group": "TWICE",
      "album": "Fancy You",
      "member": "Chaeyoung",
      "img": "/assets/photocards/Fancy You/fy-mono-08-chaeyoung.jpg",
      "category": "have"
    },
    // TASTE OF LOVE
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Chaeyoung",
      "img": "/assets/photocards/Taste of Love/tol-lenti-08-chaeyoung.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "All Members",
      "img": "/assets/photocards/Taste of Love/tol-pob-00-twice.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Nayeon",
      "img": "/assets/photocards/Taste of Love/tol-pob-01-nayeon.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Jeongyeon",
      "img": "/assets/photocards/Taste of Love/tol-pob-02-jeongyeon.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Momo",
      "img": "/assets/photocards/Taste of Love/tol-pob-03-momo.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Sana",
      "img": "/assets/photocards/Taste of Love/tol-pob-04-sana.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Jihyo",
      "img": "/assets/photocards/Taste of Love/tol-pob-05-jihyo.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Mina",
      "img": "/assets/photocards/Taste of Love/tol-pob-06-mina.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Dahyun",
      "img": "/assets/photocards/Taste of Love/tol-pob-07-dahyun.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Chaeyoung",
      "img": "/assets/photocards/Taste of Love/tol-pob-08-chaeyoung.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Tzuyu",
      "img": "/assets/photocards/Taste of Love/tol-pob-09-tzuyu.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Nayeon",
      "img": "/assets/photocards/Taste of Love/tol-random-01-nayeon-2.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Nayeon",
      "img": "/assets/photocards/Taste of Love/tol-random-01-nayeon.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Sana",
      "img": "/assets/photocards/Taste of Love/tol-random-04-sana-2.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Sana",
      "img": "/assets/photocards/Taste of Love/tol-random-04-sana.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Taste of Love",
      "member": "Chaeyoung",
      "img": "/assets/photocards/Taste of Love/tol-random-08-chaeyoung.jpg",
      "category": "have"
    },
    // FORMULA OF LOVE
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "TWICE",
      "img": "/assets/photocards/Formula of Love/fol-pob-00-twice.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Nayeon",
      "img": "/assets/photocards/Formula of Love/fol-pob-01-nayeon.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Jeongyeon",
      "img": "/assets/photocards/Formula of Love/fol-pob-02-jeongyeon.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Momo",
      "img": "/assets/photocards/Formula of Love/fol-pob-03-momo.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Sana",
      "img": "/assets/photocards/Formula of Love/fol-pob-04-sana.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Jihyo",
      "img": "/assets/photocards/Formula of Love/fol-pob-05-jihyo.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Mina",
      "img": "/assets/photocards/Formula of Love/fol-pob-06-mina.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Dahyun",
      "img": "/assets/photocards/Formula of Love/fol-pob-07-dahyun.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Chaeyoung",
      "img": "/assets/photocards/Formula of Love/fol-pob-08-chaeyoung.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Tzuyu",
      "img": "/assets/photocards/Formula of Love/fol-pob-09-tzuyu.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Momo",
      "img": "/assets/photocards/Formula of Love/fol-random-03-momo.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Jihyo",
      "img": "/assets/photocards/Formula of Love/fol-random-05-jihyo.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Mina",
      "img": "/assets/photocards/Formula of Love/fol-random-06-mina.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Tzuyu",
      "img": "/assets/photocards/Formula of Love/fol-random-09-tzuyu.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Chaeyoung",
      "img": "/assets/photocards/Formula of Love/fol-sc-08-chaeyoung.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Tzuyu",
      "img": "/assets/photocards/Formula of Love/fol-sc-09-tzuyu.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Sana",
      "img": "/assets/photocards/Formula of Love/fol-scratch-04-sana.jpg",
      "category": "have"
    },
    {
      "group": "TWICE",
      "album": "Formula of Love",
      "member": "Tzuyu",
      "img": "/assets/photocards/Formula of Love/fol-sc-09-tzuyu.jpg",
      "category": "want"
    },
    {
      "group": "RV",
      "album": "Formula of Love",
      "member": "Sana",
      "img": "/assets/photocards/Formula of Love/fol-scratch-04-sana.jpg",
      "category": "want"
    }
  ];



// const categoryButtons = Array.from(document.querySelectorAll('[name="categories"]'));
// let category = Array.from(categoryButtons).find((input) => input.checked).value;

// // Populate Dropdown
function populateDropdown(dropdown, key) {
  const unique = photocards.map(item => item[key]).filter((value, index, self) => self.indexOf(value) === index);
  for (var i = 0; i < unique.length; i++) {
    var opt = unique[i];
    var el = document.createElement("option");
    el.textContent = opt;
    el.value = opt;
    dropdown.appendChild(el);
  }
}
const groupDropDown = document.getElementById('groups');
populateDropdown(groupDropDown, "group");
const memberDropDown = document.getElementById('members');
populateDropdown(memberDropDown, "member");

// // Update and Get photocards
// function getPhotocard(data) {
//   const photocards = document.querySelector(".photocards")
//   photocards.innerHTML = '';
//   data = filterByCategory(category)
//   for (var i = 0; i < data.length; i++) {
//     var photocardIndex =
//       `
//       <li><img src="${data[i].img}" alt="${data[i].group} - ${data[i].member}" class="photocard"></li>
//     `
//     photocards.innerHTML += photocardIndex;
//   };
// }

// // Filter by Category
// // function filterByCategory(category) {
// //   return photocards.filter(function (photocard) {
// //     return photocard.category == category;
// //   });
// // };

// // function handleChangeCategory(event) {
// //   category = event.currentTarget.value;
// //   getPhotocard(filterByCategory(category));
// // }

// // categoryButtons.forEach((input) =>
// //   input.addEventListener('click', handleChangeCategory)
// // );

// // getPhotocard(filterByCategory(category));


// var filterIndex = {}

// updateFilter = photocards.filter(function (item) {
//   for (var key in filterIndex) {
//     if (item[key] === undefined || item[key] != filterIndex[key])
//       return false;
//   }
//   return true;
// });

// // console.table(updateFilter)

// Filter by Groups and Name
var filters = {
  member: "",
  group: "",
  category: "",
};

// const memberOption = document.querySelector("#members");
// const groupOption = document.querySelector("#groups");
const categoryButtons = Array.from(document.querySelectorAll('[name="categories"]'));
// let categoryValue = document.querySelector('input[name="categories"]:checked');



memberDropDown.value = filters.member;
groupDropDown.value = filters.group;
categoryButtons.value = filters.category;

memberDropDown.addEventListener("input", function () {
  filters.member = memberDropDown.value;
  update();
});

groupDropDown.addEventListener("input", function () {
  filters.group = groupDropDown.value;
  update();
});

function handleChangeCategory(event) {
  categoryButtons.value = event.currentTarget.value;
  filters.category = categoryButtons.value;
  update();

}

categoryButtons.forEach((input) =>
  input.addEventListener('click', handleChangeCategory)
);
// categoryButtons.addEventListener("input", function () {
//   filters.category = category.value;
//   update();
// });

function filterMembers(hotel) {
  return !filters.member.length || hotel.member == filters.member;
}

function filterGroups(hotel) {
  return !filters.group.length || hotel.group == filters.group;
}

function filterCategories(hotel) {
  return !filters.category.length || hotel.category == filters.category;
}

function update() {
  let filteredCards = photocards.filter(filterMembers).filter(filterGroups).filter(filterCategories);
  // let filteredCards = photocards.filter(filterMembers).filter(filterGroups);
  output.innerHTML = filteredCards.map(hotel => `<li><img src="${hotel.img}" alt="${hotel.group} - ${hotel.member}" class="photocard"></li>`).join("");
};

update();

